/* Minimal, responsive, modern styles */
:root{
  --bg:#ffffff;
  --card:#ffffff;
  --muted:#6b7280;
  --primary:#2563eb;
  --glass: rgba(255,255,255,0.6);
  /* Approximate vertical offset for fixed header â€” used for sticky elements */
  --header-offset: 88px;
  --shadow: 0 6px 18px rgba(16,24,40,0.06);
  --radius:12px;
  font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:#0f172a;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Ensure main content sits below the fixed header so pages don't feel squeezed */
/* Give pages room above the fixed header and breathing space before the footer */
main{padding-top:4.5rem; padding-bottom:15rem}
.container{max-width:1080px;margin:0 auto;padding:2rem}
.site-header{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,0.15);backdrop-filter:blur(14px);border:1px solid rgba(255,255,255,0.3);border-radius:20px;box-shadow:0 8px 32px rgba(0,0,0,0.2);z-index:60;transition:all 0.4s ease;padding:12px 40px;max-width:1260px;width:auto}
.site-header.scrolled{top:30px;padding-top:10px;background:rgba(255,255,255,0.22);backdrop-filter:blur(18px);box-shadow:0 12px 40px rgba(0,0,0,0.25);width:calc(100% - 80px);border-radius:18px}
.navbar{display:flex;align-items:center;justify-content:space-between;padding:0.75rem 1rem;max-width:1080px;margin:0 auto}
.nav-container{flex:1;display:flex;justify-content:flex-end}
.site-header.scrolled .nav-container{justify-content:center}
.brand{font-weight:700;color:var(--primary);text-decoration:none;font-size:1.1rem}

/* Increase gap between brand and first nav link when header is not scrolled */
.site-header:not(.scrolled) .brand{
  margin-right:2.5rem;
}
.nav-links{list-style:none;margin:0;padding:0;display:flex;gap:1rem;align-items:center}
.nav-links li a{color:#0f172a;text-decoration:none;padding:0.45rem 0.6rem;border-radius:8px;transition:background 180ms, color 180ms;white-space:nowrap}
/* Normal state (header outside footer): hover/active use black background with white text for contrast */
.nav-links li a:hover,
.nav-links li a:focus { background:#000; color:#fff }
.nav-links li a.active{background:#000;color:#fff}

/* When the header overlaps the dark footer, switch nav text to white for contrast */
.site-header.in-footer .nav-links li a{color:#fff}
.site-header.in-footer .nav-links li a:hover, .site-header.in-footer .nav-links li a.active{background:rgba(255,255,255,0.12);color:#fff}
.site-header.in-footer .brand{color:#fff}
.hamburger{display:none;background:none;border:0;font-size:1.2rem;cursor:pointer}

.hero{padding:100px 1rem 80px;display:flex;align-items:center;justify-content:space-between;gap:2rem}
.hero-inner{max-width:700px}
.hero h1{font-size:clamp(2rem,4vw,3rem);margin:0 0 0.5rem}
.lead{color:var(--muted);margin:0 0 1rem}
/* Text highlight for emphasized phrases */
.text-highlight{background: rgba(37,99,235,0.95); color: #fff; padding: 0.08rem 0.4rem; border-radius:6px; font-weight:700; display:inline-block}
/* Animated greeting (fades between languages) */
.greeting{display:inline-block;transition:opacity 420ms ease;opacity:1}
.greeting.fade-out{opacity:0}

/* Checklist status badges */
.check-item .task-status{
  display:inline-block;
  padding:0.18rem 0.6rem;
  border-radius:10px;
  font-size:0.9rem;
  color:#fff;
  background:#000; /* in-progress default */
}
.check-item.completed .task-status{
  background: rgba(37,99,235,0.95); /* completed blue */
}

/* Checklist progress bar */
.check-progress{background:rgba(15,23,42,0.06);height:18px;border-radius:999px;overflow:hidden}
.check-progress-fill{height:100%;background:linear-gradient(90deg,#000,var(--primary));width:0%;transition:width 480ms ease;border-radius:999px}
.check-progress-text{font-weight:700;color:var(--muted);font-size:0.95rem}

/* Circular checkbox styling with white tick when checked */
.check-item input[type="checkbox"]{
  -webkit-appearance:none;
  appearance:none;
  width:20px;
  height:20px;
  border-radius:50%;
  border:2px solid #000;
  background:transparent;
  margin:0;
  flex:0 0 20px;
}
.check-item input[type="checkbox"]:disabled{
  cursor:default;
}
.check-item input[type="checkbox"]:checked{
  background: var(--primary);
  border-color: var(--primary);
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'><polyline points='20 6 9 17 4 12'/></svg>");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 60%;
}
.check-item input[type="checkbox"]:not(:checked){
  background: transparent;
}
.btn-primary{display:inline-block;padding:0.6rem 1.2rem;background:var(--primary);color:white;border-radius:10px;text-decoration:none;transition:background 200ms}
.btn-primary:hover{background:#1d4ed8}
.btn-secondary{display:inline-block;padding:0.6rem 1.2rem;background:transparent;color:var(--primary);border:2px solid var(--primary);border-radius:10px;text-decoration:none;transition:all 200ms}
.btn-secondary:hover{background:var(--primary);color:white}
.hero-buttons{display:flex;gap:1rem;margin-top:1.5rem}
.hero-pattern{display:none}

/* Project info (index) hero alignment: left/centered like other pages */
body[data-page="index"] .hero{justify-content:flex-start}
body[data-page="index"] .hero-inner{max-width:700px}

/* Page Header */
.page-header{padding:80px 1rem 40px;background:var(--bg);border-bottom:1px solid rgba(15,23,42,0.04)}
.page-header h1{margin:0 0 0.5rem;font-size:clamp(2rem,4vw,2.5rem)}
.page-header .subtitle{color:var(--muted);margin:0;font-size:1.1rem}
/* Small horizontal chips/buttons representing the learning cycle */
.process-steps{display:flex;gap:0.75rem;align-items:center;margin-top:1rem;flex-wrap:wrap}
.process-step{background: rgba(37,99,235,0.95); color: #ffffff; padding:0.55rem 0.9rem;border-radius:12px;box-shadow:var(--shadow);font-weight:700;cursor:default;min-width:92px;text-align:center;transition:none}
@media (max-width:640px){
  .process-steps{gap:0.5rem}
  .process-step{flex:1;min-width:0;padding:0.6rem 0.8rem}
}
.game-header{background:var(--bg)}

/* Quick Links */
.quick-links{padding:3rem 2rem}
.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.5rem;margin-top:1.5rem}
.quick-card{background:var(--card);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);text-decoration:none;color:inherit;transition:transform 200ms,box-shadow 200ms}
.quick-card:hover{transform:translateY(-4px);box-shadow:0 12px 24px rgba(16,24,40,0.1)}
.quick-card h3{margin:0 0 0.5rem;font-size:1.2rem}
.quick-card p{margin:0;color:var(--muted)}

.about-grid{display:grid;grid-template-columns:260px 1fr;gap:1.5rem;align-items:stretch}
/* Profile card: make the left column stretch to the height of the bio so the
  image can fill top-to-bottom without being cropped. */
.profile-card{display:flex;align-items:flex-start;justify-content:center;padding:0}
.profile-img{width:100%;height:auto;max-width:100%;object-fit:contain;border-radius:12px;background:var(--card);display:block}
.bio h2{margin-top:0}
.bio h3{margin-top:1.5rem;font-size:1.2rem}
.social{list-style:none;padding:0;display:flex;gap:0.75rem;flex-wrap:wrap}
.social a{color:var(--primary);text-decoration:none;padding:0.5rem 1rem;background:var(--glass);border-radius:8px;transition:background 200ms}
.social a:hover{background:#e0f2ff}
.skills-list{padding-left:1.2rem;color:var(--muted)}
.skills-list li{margin-bottom:0.5rem}

.reflections .accordion{margin-top:1rem}
.accordion-item{background:var(--card);border-radius:10px;padding:0.5rem;margin-bottom:0.75rem;box-shadow:var(--shadow);overflow:hidden}
.accordion-toggle{width:100%;text-align:left;padding:0.8rem;border:0;background:none;font-weight:600;font-size:1rem}
.accordion-panel{max-height:0;overflow:hidden;transition:max-height 300ms cubic-bezier(.2,.8,.2,1),padding 200ms; padding:0 0.8rem}
.accordion-panel.open{padding:0.8rem;border-top:1px solid rgba(15,23,42,0.04);max-height:400px}

/* Reflection timeline styles */
.reflection-timeline{padding:3rem 0}
.timeline-container{display:grid;grid-template-columns:280px 1fr;gap:2.5rem;align-items:start}
.weeks-list{
  position:sticky;
  /* Stick the weeks list below the fixed header so it lines up with the
     top of the right content area. Remove vertical centering transform so
     the left column's top matches the right column's top. */
  top: calc(var(--header-offset) + 12px);
  transform: none;
  align-self: start;
  /* Keep it scrollable and prevent overflow beyond the viewport minus header */
  max-height: calc(100vh - (var(--header-offset) + 32px));
  overflow-y: auto;
  padding-right: 8px;
}
.weeks-list .week{font-size:1.05rem;margin:0 0 1rem;color:var(--muted);cursor:pointer;padding:8px 12px;border-radius:10px;transition:all 240ms}
.weeks-list .week:hover{background:rgba(0,0,0,0.04);color:var(--primary)}
.weeks-list .week.active{
  background: #000;
  color: #fff;
  font-weight:700;
  
}
.reflection-content{min-height:60vh}
.reflection-step{opacity:0;transform:translateY(40px);transition:opacity 600ms cubic-bezier(.25,.46,.45,.94),transform 600ms cubic-bezier(.25,.46,.45,.94);background:rgba(255,255,255,0.08);backdrop-filter:blur(12px);border-radius:16px;padding:40px;box-shadow:0 8px 32px rgba(0,0,0,0.12);margin-bottom:2.5rem}
.reflection-step.visible{opacity:1;transform:translateY(0)}
.reflection-step h3{margin-top:0}
.reflection-step .images{display:flex;gap:1rem;margin-top:1rem}
.reflection-step .images img{width:50%;height:220px;object-fit:cover;border-radius:12px;box-shadow:var(--shadow)}

/* Responsive: stack on smaller screens */
@media (max-width:900px){
  .timeline-container{grid-template-columns:1fr;}
  .weeks-list{position:relative;top:0;transform:none;display:flex;gap:0.75rem;overflow:auto;padding-bottom:1rem}
  .weeks-list .week{white-space:nowrap;padding:8px 14px}
  .reflection-step .images{flex-direction:column}
  .reflection-step .images img{width:100%;height:auto}
}

/* About page: stack profile and bio on small screens and keep image visible (not cropped) */
@media (max-width:820px){
  .about-grid{grid-template-columns:1fr;}
  .profile-card{padding:1rem;}
  .profile-img{height:auto;width:160px;display:block;margin:0 auto}
}

/* Remove any thin divider/border that may appear around the timeline or steps */
.timeline-container,
.reflection-content,
.weeks-list,
.reflection-step{
  border: none !important;
  outline: none !important;
}

.documents .docs-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-top:1rem}

@media (max-width:780px){
  .documents .docs-grid{grid-template-columns:1fr}
}
.doc-card{background:var(--card);padding:1rem;border-radius:10px;box-shadow:var(--shadow);display:flex;flex-direction:column}
.doc-card h3{margin:0 0 0.5rem}
.doc-card p{flex:1;color:var(--muted)}
.doc-card .btn{
  margin-top:0.5rem;
  padding:0.5rem 0.75rem;
  border-radius:8px;
  text-decoration:none;
  border:0;
  background:var(--primary);
  color:#fff;
  display:inline-block;
  text-align:center;
}

/* Unified button styles: remove default OS button appearance and provide modern, consistent styling */
button, input[type="button"], input[type="submit"], .btn {
  -webkit-appearance: none;
  appearance: none;
  border: none;
  background: var(--primary);
  color: #fff;
  padding: 0.6rem 0.9rem;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
  font-family: inherit;
  transition: transform 140ms ease, box-shadow 140ms ease, background 140ms ease;
  box-shadow: 0 8px 24px rgba(16,24,40,0.06);
}
button:hover, .btn:hover { transform: translateY(-3px); }
button:active, .btn:active { transform: translateY(0); }
button:focus, .btn:focus{ outline: 3px solid rgba(37,99,235,0.14); outline-offset:2px }

/* Make anchor-based primary/secondary buttons keep their look */
a.btn-primary, a.btn-secondary{display:inline-flex;align-items:center;justify-content:center}

/* Modal and small controls get a subtler style */
.close-pdf, .pdf-nav, .close-lightbox, .lightbox-nav {
  /* Make modal/control buttons darker for contrast on white pages */
  background: rgba(2,6,23,0.7);
  color: #fff;
  border-radius: 10px;
  padding: 0.5rem 0.75rem;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 6px 18px rgba(2,6,23,0.35);
  font-weight:600;
}
.close-pdf:hover, .pdf-nav:hover, .close-lightbox:hover, .lightbox-nav:hover{
  background: rgba(37,99,235,0.95); /* primary blue on hover */
  color: #fff;
}

/* Ensure pdf toolbar buttons look distinct but not default */
.pdf-toolbar .pdf-nav{background:transparent;border:1px solid rgba(15,23,42,0.06);color:var(--primary)}
.pdf-toolbar .pdf-nav:hover{background:var(--primary);color:#fff}

.site-footer{height:100vh;display:flex;align-items:center;justify-content:center;color:#fff;position:relative;overflow:visible;padding:2rem;
  /* Solid black footer background */
  background: #000000;
  /* Smooth curved top corners (only top-left and top-right) */
  border-top-left-radius:28px;
  border-top-right-radius:28px;
}
.site-footer .footer-inner-center{max-width:1200px;padding:2rem;width:100%;display:flex;align-items:flex-start;justify-content:space-between;gap:2rem;position:relative;z-index:60}
.footer-left{text-align:left;flex:0 0 420px;max-width:420px}
.site-footer h2{font-size:clamp(1.6rem,4vw,2.8rem);margin:0 0 0.5rem}
.site-footer p.sub{font-size:1rem;margin-bottom:0.5rem;color:rgba(255,255,255,0.85)}
.footer-right{min-width:260px;display:flex;flex-direction:column;align-items:flex-end;gap:1rem}
.footer-grid{display:flex;flex-direction:row;gap:2rem;align-items:flex-start;justify-content:flex-end}
.footer-grid .quick-links,.footer-grid .contact-links{min-width:160px}
.footer-grid h4{margin:0 0 0.5rem;font-size:1rem}
.footer-grid ul{list-style:none;padding:0;margin:0}
.footer-grid a{color:rgba(255,255,255,0.95);text-decoration:none;display:block;padding:6px 0}
.footer-grid a:hover{text-decoration:underline}
.footer-copyright{position:absolute;bottom:18px;left:0;padding-left:1rem;font-size:0.95rem;color:rgba(255,255,255,0.6)}

/* Footer-specific overrides: remove the large padding used by the global .quick-links
   rule so Quick Links and Connect align horizontally in the footer. Also ensure
   the subtext sits below the heading. */
.site-footer .footer-grid .quick-links,
.site-footer .footer-grid .contact-links {
  padding: 0;
  margin: 0;
  min-width: 140px;
}
.site-footer .footer-grid .quick-links ul,
.site-footer .footer-grid .contact-links ul{
  margin: 0;
  padding: 0;
}
.site-footer .footer-left p.sub{margin-top:0.5rem;display:block}

/* Constrain footer description to roughly two lines on desktop for consistent layout.
   Use a character-based max-width so line-wrapping is predictable. On narrow screens
   the paragraph will naturally wrap to more lines (no clipping). */
.site-footer .footer-left p.sub{
  max-width:40ch; /* approx two lines of text for this sentence */
  line-height:1.35;
  margin-top:0.5rem;
}

@media (max-width:640px){
  /* Allow full-width description on small screens for readability */
  .site-footer .footer-left p.sub{ max-width:100%; }
}

/* Ensure footer columns align exactly at the top and have consistent spacing */
.site-footer .footer-grid > div {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  padding: 0;
  margin: 0;
}
.site-footer .footer-grid h4 { margin-top: 0; }
.site-footer .footer-grid ul { margin-top: 0; }
.site-footer .footer-grid .quick-links, .site-footer .footer-grid .contact-links { min-width: 140px; }

/* Footer uses smooth rounded top corners now; removed decorative scallops */

.pdf-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.5);z-index:60}
.pdf-modal[aria-hidden="false"]{display:flex}
.pdf-modal-inner{position:relative;width:90%;max-width:1100px;background:var(--card);border-radius:12px;padding:0.5rem;box-shadow:0 20px 40px rgba(2,6,23,0.5)}
.pdf-toolbar{display:flex;align-items:center;justify-content:space-between;padding:0.5rem;border-bottom:1px solid rgba(15,23,42,0.04);margin-top:3.5rem}

/* Slightly reduce the top gap on very small screens so the modal doesn't feel too tall */
@media (max-width:420px){
  .pdf-toolbar{margin-top:2.2rem}
  .close-pdf{top:10px;right:10px;width:36px;height:36px;font-size:1rem}
}
.pdf-viewer{height:70vh}
.pdf-viewer iframe{width:100%;height:100%;border-radius:8px}

/* Keep pdf close button visible on white pages: use the darker modal control style (no accidental override) */
.close-pdf{
  position: absolute;
  top: 12px;
  right: 12px;
  width: 40px;
  height: 40px;
  padding: 0; /* size controlled by width/height */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--primary);
  color: #fff;
  border-radius: 50%;
  border: 0;
  box-shadow: 0 6px 18px rgba(16,24,40,0.12);
  font-size: 1.05rem;
  line-height: 1;
  cursor: pointer;
}
.close-pdf:hover{background:#1d4ed8}
.close-pdf:focus{outline: 3px solid rgba(37,99,235,0.18); outline-offset:3px}

/* Responsive */
@media (max-width:820px){
  .hero{flex-direction:column;align-items:flex-start}
  .about-grid{grid-template-columns:1fr}
  .hero-buttons{flex-direction:column;width:100%}
  .hero-buttons a{text-align:center}
}
@media (max-width:640px){
  .site-header{left:50%;width:calc(100% - 40px);max-width:none;padding:10px 20px}
  /* Reduce the extra brand margin on small screens */
  .site-header:not(.scrolled) .brand{margin-right:0.5rem}
  /* Mobile: hide nav by default and show as a glass panel when opened */
  .nav-links{display:none;position:fixed;right:16px;top:76px;background:rgba(255,255,255,0.06);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);padding:0.75rem;border-radius:14px;box-shadow:0 12px 36px rgba(2,6,23,0.28);flex-direction:column;min-width:200px;width:calc(100% - 48px);max-width:360px;z-index:80}
  .nav-links.show{display:flex}
  .hamburger{display:block}
  /* glassmorphism style for the hamburger button with three solid black lines */
  .hamburger{
    display:inline-block;
    width:36px;
    height:24px;
    padding:6px;
    position:relative;
    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 10px;
    box-shadow: 0 8px 24px rgba(2,6,23,0.18);
    cursor: pointer;
    font-size: 0; /* hide any inline text (like the â˜°) so we render custom bars */
    line-height: 0;
  }
  /* Draw three black bars using pseudo-elements and a box-shadow trick for the middle bar */
  .hamburger::before,
  .hamburger::after{
    content: "";
    position: absolute;
    left: 8px;
    right: 8px;
    height: 3px;
    background: #000;
    border-radius: 2px;
  }
  /* top bar + create middle bar via box-shadow on ::before */
  .hamburger::before{ top: 6px; box-shadow: 0 6px 0 #000; }
  /* bottom bar */
  .hamburger::after{ bottom: 6px; }
  .nav-links li{margin:0.25rem 0}
  .nav-links li a{display:block;padding:0.6rem 0.8rem}
  .footer-content{flex-direction:column;gap:1rem}
}

/* Reduce bottom spacing on very small screens to avoid excessive scroll length */
@media (max-width:480px){
  main{padding-bottom:8rem}
}

/* Game Page Styles */
.game-intro{background:var(--card);padding:2rem;border-radius:12px;box-shadow:var(--shadow);margin-bottom:2rem}
.game-stats{margin:2rem 0}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-top:1rem}
.stat-card{background:var(--card);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);text-align:center}
.stat-value{font-size:2.5rem;font-weight:700;color:var(--primary);margin-bottom:0.5rem}
.stat-label{color:var(--muted);font-size:0.9rem}
.journey-stages{margin-top:1rem;display:grid;gap:1rem}
.stage{background:var(--card);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);border-left:4px solid #e5e7eb;position:relative}
.stage.completed{border-left-color:#10b981}
.stage.in-progress{border-left-color:var(--primary)}
.stage.locked{opacity:0.6;border-left-color:#9ca3af}
.stage h4{margin:0 0 0.5rem}
.stage p{margin:0.5rem 0;color:var(--muted)}
.badge{display:inline-block;padding:0.25rem 0.75rem;border-radius:20px;font-size:0.85rem;font-weight:600;margin-top:0.5rem}
.stage.completed .badge{background:#d1fae5;color:#065f46}
.stage.in-progress .badge{background:#dbeafe;color:#1e40af}
.stage.locked .badge{background:#f3f4f6;color:#6b7280}
.cta-section{margin-top:3rem;text-align:center;padding:2rem;background:var(--bg);border-radius:12px}
.cta-buttons{display:flex;gap:1rem;justify-content:center;margin-top:1rem;flex-wrap:wrap}

/* Center trailer and demo content on the Game page */
.game-trailer, .game-play{
  text-align: center;
}
.game-trailer h2, .game-play h2{
  margin-top: 0;
}
.game-trailer video{
  display: block;
  margin: 1rem auto 0;
  width: 100%;
  max-width: 900px;
  height: auto;
  border-radius: 12px;
  box-shadow: var(--shadow);
}
.game-play .subtitle{max-width:820px;margin-left:auto;margin-right:auto}
.game-frame iframe{
  width: 100%;
  max-width: 1100px;
  height: 500px;
  border: 0;
}

/* Feedback Form Styles */
.feedback-intro{background:var(--card);padding:1.5rem;border-radius:12px;margin-bottom:2rem;box-shadow:var(--shadow)}
.feedback-form-container{max-width:600px;margin:0 auto}
.feedback-form{background:var(--card);padding:2rem;border-radius:12px;box-shadow:var(--shadow)}
/* Playtest survey question card styling */
.survey-question{
  background: var(--card);
  padding: 1rem;
  border-radius: 12px;
  box-shadow: var(--shadow);
  margin-bottom: 1rem;
  transition: transform 160ms ease, box-shadow 160ms ease;
}
.survey-question:hover{
  transform: translateY(-4px);
  box-shadow: 0 10px 30px rgba(16,24,40,0.08);
}
.survey-question h3{margin:0 0 0.5rem}
.form-group{margin-bottom:1.5rem}
.form-group label{display:block;margin-bottom:0.5rem;font-weight:600;color:#374151}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:0.75rem;border:1px solid #e5e7eb;border-radius:8px;font-family:inherit;font-size:1rem;transition:border-color 200ms}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--primary)}
.rating-group{display:flex;flex-direction:column;gap:0.5rem}
.rating-group input{width:auto;margin-right:0.5rem}
.rating-group label{display:flex;align-items:center;cursor:pointer;padding:0.5rem;border-radius:8px;transition:background 200ms}
.rating-group label:hover{background:var(--glass)}
.form-message{padding:1.5rem;border-radius:12px;margin-top:1rem;text-align:center}
.form-message.success{background:#d1fae5;color:#065f46}
.form-message.error{background:#fee2e2;color:#991b1b}
.form-message h3{margin:0 0 0.5rem}
.form-message p{margin:0}

/* Gallery Styles */
.gallery-filters{display:flex;gap:0.75rem;margin-bottom:2rem;flex-wrap:wrap;justify-content:center}
.filter-btn{padding:0.6rem 1.2rem;border:2px solid #e5e7eb;background:var(--card);border-radius:8px;cursor:pointer;font-family:inherit;font-size:1rem;transition:all 200ms; color: #0f172a}
.filter-btn:hover,.filter-btn.active{border-color:var(--primary);background:var(--primary);color:white}
.gallery-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}
.gallery-item{position:relative;border-radius:12px;overflow:hidden;box-shadow:var(--shadow);cursor:pointer;transition:transform 200ms}
.gallery-item:hover{transform:scale(1.02)}
.gallery-item img{width:100%;height:250px;object-fit:cover;display:block}
.gallery-item-overlay{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,rgba(0,0,0,0.7),transparent);padding:1rem;color:white}
.gallery-item-title{margin:0;font-size:1rem;font-weight:600}
.gallery-item-category{font-size:0.85rem;opacity:0.9}
.projects-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:1rem}
.project-card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column;align-items:stretch}
.project-img{width:100%;height:160px;object-fit:cover;display:block}
.project-body{padding:1rem;display:flex;flex-direction:column;gap:0.75rem;align-items:flex-start}
.project-desc{margin:0;color:var(--muted)}
.project-body .btn{align-self:flex-start;padding:0.5rem 0.9rem}

/* On hover, show the View Project button centered over the card */
.project-card{position:relative}
.project-card::before{content:'';position:absolute;inset:0;background:rgba(0,0,0,0);pointer-events:none}
.project-card:hover::before{background:rgba(0,0,0,0.12)}
/* Hide the View Project button when not hovered; show centered when hovered or focused */
.project-body .btn{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  z-index: 22;
  align-self: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 180ms ease;
}
.project-card:hover .project-body .btn,
.project-card:focus-within .project-body .btn{
  opacity: 1;
  pointer-events: auto;
}

/* Full-width projects band styles */
.projects-band{width:100%;background:transparent;padding:3rem 0}
.projects-inner{max-width:1200px;margin:0 auto;padding:0 24px}
.projects-inner h3{margin:0 0 1rem}

/* Albums layout for gallery page */
.albums-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:4rem 4rem;padding:2rem 0}
.album-card{position:relative;height:340px;border-radius:12px;overflow:visible;cursor:pointer;padding-bottom:3.5rem;margin-bottom:0;transition:transform 280ms cubic-bezier(.2,.9,.2,1),box-shadow 280ms;will-change:transform;background:var(--card)}
.album-stack{position:relative;width:100%;height:260px}
/* Background mask behind the stacked shots to prevent any dark/square artifacts from showing
  when images are transformed or partially transparent. This sits under the images but inside
  the card so peeks still appear naturally. */
.album-stack::before{content:'';position:absolute;inset:0;border-radius:12px;background:var(--card);z-index:0;pointer-events:none}
.album-stack .album-shot{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:12px;box-shadow:var(--shadow);transition:transform 260ms cubic-bezier(.2,.9,.2,1),left 260ms ease,box-shadow 260ms;display:block;background:transparent;backface-visibility:hidden;will-change:transform}
/* Ensure transformed/rotated images keep rounded corners and don't show square artifacts */
.album-stack .album-shot{clip-path: inset(0 round 12px);}
.album-stack .album-shot:nth-child(1){z-index:3;left:0}
.album-stack .album-shot:nth-child(2){z-index:2;left:26px;transform:scale(0.98)}
.album-stack .album-shot:nth-child(3){z-index:1;left:52px;transform:scale(0.96)}
.album-info{position:absolute;left:50%;bottom: -22px;transform:translateX(-50%);padding:0;border:0;background:transparent;z-index:62;display:flex;justify-content:center;width:100%;pointer-events:none}
.album-title{margin:0;font-size:0.98rem;font-weight:700;pointer-events:auto;background:linear-gradient(90deg,var(--primary),#3b82f6);color:#000;padding:0.45rem 1rem;border-radius:999px;box-shadow:0 8px 20px rgba(16,24,40,0.08)}

/* Dramatic hover: lift & scale the front shot, spread the peeked shots further, deepen shadows */
.album-card:hover{transform:translateY(-8px) scale(1.03);z-index:40;}
.album-card:hover .album-stack .album-shot:nth-child(1){transform:translateY(-10px) scale(1.04);box-shadow:0 24px 60px rgba(2,6,23,0.22)}
.album-card:hover .album-stack .album-shot:nth-child(2){left:46px;transform:translateX(18px) scale(0.95) rotate(-1.5deg);box-shadow:0 18px 44px rgba(2,6,23,0.14)}
.album-card:hover .album-stack .album-shot:nth-child(3){left:92px;transform:translateX(36px) scale(0.92) rotate(-3deg);box-shadow:0 12px 36px rgba(2,6,23,0.12)}

/* Push following album cards to the right for a bold separation effect */
.album-card:hover ~ .album-card{transform:translateX(36px)}

/* Slightly dim non-hovered cards when grid is hovered to emphasize the active one */
.albums-grid:hover .album-card:not(:hover){opacity:0.94;transform:scale(0.985)}

@media (max-width:900px){
  .albums-grid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:600px){
  .albums-grid{grid-template-columns:1fr}
}
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.9);display:none;align-items:center;justify-content:center;z-index:100}
.lightbox[aria-hidden="false"]{display:flex}
.lightbox-content{max-width:90%;max-height:90%;text-align:center}
.lightbox-content img{max-width:100%;max-height:80vh;border-radius:8px}
.lightbox-caption{color:white;margin-top:1rem;font-size:1.1rem}
.close-lightbox{
  position: absolute;
  top: 0.8rem;
  right: 0.8rem;
  /* Use the same primary blue as the document close button for consistency */
  background: var(--primary);
  color: #fff;
  font-size: 1rem;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  padding: 0;
  border: 0;
  box-shadow: 0 6px 18px rgba(16,24,40,0.12);
}
.close-lightbox:hover { background: #1d4ed8; }
.close-lightbox:focus { outline: 3px solid rgba(37,99,235,0.18); outline-offset:3px }
.lightbox-nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(2,6,23,0.7);border:0;color:white;font-size:3rem;width:60px;height:60px;border-radius:50%;cursor:pointer;
  display:inline-flex;align-items:center;justify-content:center;line-height:1;padding:0}
.lightbox-nav.prev{left:1rem}
.lightbox-nav.next{right:1rem}

/* Survey visuals for playtest survey page */
.survey .rating-row{display:flex;align-items:center;gap:1rem;padding:0.5rem 0;border-bottom:1px solid rgba(15,23,42,0.04)}
.mini-bar{flex:1;height:10px;background:rgba(15,23,42,0.06);border-radius:999px;overflow:hidden}
.mini-bar-fill{height:100%;background:linear-gradient(90deg,#000000,var(--primary));border-radius:999px}
.survey-summary{max-width:720px}
.survey-bar{height:18px;background:rgba(15,23,42,0.06);border-radius:999px;overflow:hidden}
.survey-bar-fill{height:100%;background:linear-gradient(90deg,#000000,var(--primary));transition:width 400ms ease;border-radius:999px}
.avg-text{margin-bottom:0.5rem;color:#0f172a}
